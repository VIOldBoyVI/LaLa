# LaLaGame - Запуск сервера и клиента на разных компьютерах

## Общее описание
LaLaGame - веб-приложение-викторина с элементами караоке, позволяющее играть в интерактивную игру с сохранением состояния. Приложение может быть запущено в распределенной конфигурации: серверная часть на одном компьютере, клиентская часть на другом.

## Архитектура
- **Сервер**: Flask-приложение с API-эндпоинтами, базой данных и логикой игры
- **Клиент**: Веб-браузер, подключающийся к серверу через HTTP

## Требования

### Сервер:
- Python 3.10 или выше
- pip (менеджер пакетов Python)

### Клиент:
- Современный веб-браузер (Chrome, Firefox, Safari, Edge)

## Установка на сервере

1. Убедитесь, что на сервере установлен Python 3.10 или выше:
   ```bash
   python --version
   ```

2. Скачайте проект (если еще не скачан):
   ```bash
   git clone <ссылка_на_репозиторий>
   cd <папка_проекта>
   ```

3. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

4. Настройте конфигурацию (опционально):
   - Если вы хотите использовать MySQL вместо SQLite, создайте файл `.env`:
   ```bash
   cp .env.example .env
   ```
   - Отредактируйте файл `.env`, указав параметры подключения к вашей MySQL базе данных

## Запуск сервера

1. Запустите сервер:
   ```bash
   python run.py
   ```

2. Сервер будет запущен по адресу:
   - По умолчанию: `http://0.0.0.0:5555` (доступен извне)
   - Если доступен только локально: `http://127.0.0.1:5555`

3. Запомните IP-адрес сервера, он потребуется клиентам для подключения

## Настройка сети

### На сервере:
1. Убедитесь, что порт 5555 открыт в брандмауэре:
   - Windows: разрешите приложение в брандмауэре Windows
   - Linux: откройте порт командой `sudo ufw allow 5555`

2. Определите IP-адрес сервера:
   ```bash
   # Windows
   ipconfig
   
   # Linux/Mac
   ifconfig
   # или
   hostname -I
   ```

## Подключение клиента

1. Откройте веб-браузер на клиентском компьютере

2. Перейдите по адресу:
   ```
   http://<IP-адрес_сервера>:5555
   ```
   
   Например, если IP-адрес сервера 192.168.1.100:
   ```
   http://192.168.1.100:5555
   ```

3. Игра будет доступна в браузере клиента

## Работа с MySQL (опционально)

Если вы настроили подключение к общей MySQL базе данных:

1. Убедитесь, что MySQL сервер доступен из сети
2. Настройте права доступа для пользователей из разных подсетей
3. Убедитесь, что порт MySQL (обычно 3306) открыт для подключения

## Возможные проблемы и решения

### Клиент не может подключиться к серверу:
- Проверьте, что сервер запущен и доступен по IP-адресу
- Убедитесь, что порт 5555 открыт в брандмауэре
- Проверьте настройки роутера (NAT, порт-форвардинг)

### Ошибка при подключении к базе данных:
- Проверьте настройки в файле `.env`
- Убедитесь, что MySQL сервер принимает внешние подключения
- Проверьте права доступа к базе данных

### Производительность:
- Убедитесь, что соединение между сервером и клиентом стабильно
- При большом количестве пользователей рассмотрите масштабирование сервера

## Остановка сервера

Для остановки сервера нажмите `Ctrl+C` в терминале, где запущено приложение.

## Безопасность

- Не используйте учетные данные по умолчанию в production
- Ограничьте доступ к серверу через брандмауэр
- Регулярно обновляйте зависимости